import{i as a,a as w,S as b}from"./vendor-Qob_5Ba8.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function c(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(t){if(t.ep)return;t.ep=!0;const o=c(t);fetch(t.href,o)}})();const v=document.getElementById("search-form"),u=document.getElementById("gallery"),m=document.getElementById("loader"),i=document.getElementById("load-more"),E="46626572-71017a8957be8250d73e50a3e";let n="",s=1,f=0;v.addEventListener("submit",async r=>{if(r.preventDefault(),n=document.getElementById("query").value.trim(),!n){a.error({title:"Error",message:"Please enter a search term!"});return}I(),s=1,i.classList.add("hidden"),y();try{const e=await p(n,s);if(f=e.totalHits,h(),e.hits.length===0){a.info({message:"Sorry, there are no images matching your search query. Please try again!"});return}g(e.hits),e.hits.length<f&&i.classList.remove("hidden")}catch{L()}});async function p(r,e){const c=`https://pixabay.com/api/?key=${E}&q=${encodeURIComponent(r)}&image_type=photo&orientation=horizontal&safesearch=true&page=${e}&per_page=40`;return(await w.get(c)).data}function g(r){u.insertAdjacentHTML("beforeend",r.map(e=>`
        <a href="${e.largeImageURL}" class="gallery-item">
          <img src="${e.webformatURL}" alt="${e.tags}" />
          <div class="info">
            <p>Likes: ${e.likes}</p>
            <p>Views: ${e.views}</p>
            <p>Comments: ${e.comments}</p>
            <p>Downloads: ${e.downloads}</p>
          </div>
        </a>`).join("")),$()}i.addEventListener("click",async()=>{s+=1,y();try{const r=await p(n,s);g(r.hits),s*40>=f&&(i.classList.add("hidden"),a.info({message:"We're sorry, but you've reached the end of search results."})),B()}catch{L()}finally{h()}});function I(){u.innerHTML=""}function y(){m.classList.remove("hidden")}function h(){m.classList.add("hidden")}function $(){new b(".gallery-item",{captionsData:"alt",captionDelay:250}).refresh()}function B(){const{height:r}=u.firstElementChild.getBoundingClientRect();window.scrollBy({top:r*2,behavior:"smooth"})}function L(){a.error({title:"Error",message:"Something went wrong. Please try again later."}),h()}
//# sourceMappingURL=main-7I0o84tW.js.map
